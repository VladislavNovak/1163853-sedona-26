function storageAvialable(){try{var e=window.localStorage,o="__storage_test__";return e.setItem(o,o),e.removeItem(o),!0}catch(e){return!1}}function deactivator(e,t,a,n){e.forEach(function(o){t.forEach(function(e){o.addEventListener(e,function(e){a.classList.contains(n)&&a.classList.remove(n),e.preventDefault()})})})}function executeMain(){var e=document.querySelector(".popup-opener"),o=document.querySelector(".booking-form"),t=document.querySelector("[name=check-in]"),a=document.querySelector("[name=check-out]"),n=document.querySelector("[name=adult]"),s=document.querySelectorAll(".sort-types"),c=document.querySelector(".sort-types.sort-active-onload"),i=document.querySelectorAll(".updown-link"),r=document.querySelector(".updown-link.updown-active-onload"),l=["click","focus"],u=!1;function d(){storageAvialable()&&(localStorage.setItem("savedInput1",t.value),localStorage.setItem("savedInput2",a.value),localStorage.setItem("savedInput3",n.value))}function m(e){t.value&&a.value&&n.value?d():(o.classList.contains("booking-form-shake")&&o.classList.remove("booking-form-shake"),e.preventDefault(),o.offsetWidth=o.offsetWidth,o.classList.add("booking-form-shake"),n.value||n.focus(),a.value||a.focus(),t.value||t.focus())}function v(){o.classList.contains("booking-form-shake")&&o.classList.remove("booking-form-shake"),o.classList.contains("booking-form-appear")&&o.classList.remove("booking-form-appear"),o.classList.remove("booking-form"),o.classList.add("booking-form-hidden")}e&&o&&(!1===u&&(o.classList.remove("booking-form"),o.classList.add("booking-form-hidden"),storageAvialable()&&localStorage.length<3&&d()),e.addEventListener("click",function(e){e.preventDefault(),u=!0,o.classList.contains("booking-form-hidden")?(o.classList.remove("booking-form-hidden"),o.classList.add("booking-form"),o.classList.contains("booking-form-appear")||o.classList.add("booking-form-appear"),storageAvialable()&&(t.value=localStorage.getItem("savedInput1"),a.value=localStorage.getItem("savedInput2"),n.value=localStorage.getItem("savedInput3")),t.focus(),396<o.scrollHeight&&o.scrollHeight>o.clientHeight&&(o.style.overflowY="auto"),o.addEventListener("change",d,!1),o.addEventListener("submit",m,!1),o.addEventListener("keydown",function(e){27===e.keyCode&&o.classList.contains("booking-form")&&o.classList.contains("booking-form-appear")&&(e.preventDefault(),d(),v())})):(d(),v())})),deactivator(i,l,r,"updown-active-onload"),deactivator(s,l,c,"sort-active-onload")}"loading"===document.readyState?document.addEventListener("DONContentLoaded",executeMain):executeMain();