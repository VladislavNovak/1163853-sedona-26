window.addEventListener("load",function(e){e.preventDefault();var o=document.querySelector(".popup-opener"),t=document.querySelector(".booking-form"),a=document.querySelector("[name=check-in]"),s=document.querySelector("[name=check-out]"),l=document.querySelector("[name=adult]"),n=!1;function c(){try{var e=window.localStorage,o="__storage_test__";return e.setItem(o,o),e.removeItem(o),!0}catch(e){return!1}}o&&t&&(!1===n&&(t.classList.remove("booking-form"),t.classList.add("booking-form-hidden")),o.addEventListener("click",function(e){e.preventDefault(),n=!0,t.classList.contains("booking-form-hidden")?(t.classList.remove("booking-form-hidden"),t.classList.add("booking-form"),t.classList.contains("booking-form-appear")||t.classList.add("booking-form-appear"),c()&&(a.value=localStorage.getItem("checkInValue"),s.value=localStorage.getItem("checkOutValue"),l.value=localStorage.getItem("adultValue")),a.focus(),396<t.scrollHeight&&t.scrollHeight>t.clientHeight&&(t.style.overflowY="auto"),t.addEventListener("submit",function(e){a.value&&s.value&&l.value?c()&&(localStorage.setItem("checkInValue",a.value),localStorage.setItem("checkOutValue",s.value),localStorage.setItem("adultValue",l.value)):(t.classList.contains("booking-form-shake")&&t.classList.remove("booking-form-shake"),e.preventDefault(),t.offsetWidth,t.classList.add("booking-form-shake"),a.focus())}),t.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("booking-form")&&t.classList.contains("booking-form-appear")&&(e.preventDefault(),c()&&(localStorage.setItem("checkInValue",a.value),localStorage.setItem("checkOutValue",s.value),localStorage.setItem("adultValue",l.value)),t.classList.contains("booking-form-shake")&&t.classList.remove("booking-form-shake"),t.classList.remove("booking-form-appear"),t.classList.remove("booking-form"),t.classList.add("booking-form-hidden"))})):(c()&&(localStorage.setItem("checkInValue",a.value),localStorage.setItem("checkOutValue",s.value),localStorage.setItem("adultValue",l.value)),t.classList.contains("booking-form-shake")&&t.classList.remove("booking-form-shake"),t.classList.contains("booking-form-appear")&&t.classList.remove("booking-form-appear"),t.classList.remove("booking-form"),t.classList.add("booking-form-hidden"))}));var r=document.querySelectorAll(".sort-types"),i=document.querySelector(".sort-types.sort-active-onload"),u=["click","focus"];function m(e,t,a,s){e.forEach(function(o){t.forEach(function(e){o.addEventListener(e,function(e){a.classList.contains(s)&&a.classList.remove(s),e.preventDefault()})})})}m(document.querySelectorAll(".updown-link"),u,document.querySelector(".updown-link.updown-active-onload"),"updown-active-onload"),m(r,u,i,"sort-active-onload")});