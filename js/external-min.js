function storageAvialable(){try{var e=window.localStorage,o="__storage_test__";return e.setItem(o,o),e.removeItem(o),!0}catch(e){return!1}}function deactivator(e,t,a,l){e.forEach(function(o){t.forEach(function(e){o.addEventListener(e,function(e){a.classList.contains(l)&&a.classList.remove(l),e.preventDefault()})})})}function executeMain(){var e=document.querySelector(".popup-opener"),o=document.querySelector(".booking-form"),t=document.querySelector("[name=check-in]"),a=document.querySelector("[name=check-out]"),l=document.querySelector("[name=adult]"),s=document.querySelectorAll(".sort-types"),c=document.querySelector(".sort-types.sort-active-onload"),n=document.querySelectorAll(".updown-link"),r=document.querySelector(".updown-link.updown-active-onload"),i=["click","focus"],u=!1;e&&o&&(!1===u&&(o.classList.remove("booking-form"),o.classList.add("booking-form-hidden")),e.addEventListener("click",function(e){e.preventDefault(),u=!0,o.classList.contains("booking-form-hidden")?(o.classList.remove("booking-form-hidden"),o.classList.add("booking-form"),o.classList.contains("booking-form-appear")||o.classList.add("booking-form-appear"),storageAvialable()&&(t.value=localStorage.getItem("checkInValue"),a.value=localStorage.getItem("checkOutValue"),l.value=localStorage.getItem("adultValue")),t.focus(),396<o.scrollHeight&&o.scrollHeight>o.clientHeight&&(o.style.overflowY="auto"),o.addEventListener("submit",function(e){t.value&&a.value&&l.value?storageAvialable()&&(localStorage.setItem("checkInValue",t.value),localStorage.setItem("checkOutValue",a.value),localStorage.setItem("adultValue",l.value)):(o.classList.contains("booking-form-shake")&&o.classList.remove("booking-form-shake"),e.preventDefault(),o.offsetWidth=o.offsetWidth,o.classList.add("booking-form-shake"),t.focus())}),o.addEventListener("keydown",function(e){27===e.keyCode&&o.classList.contains("booking-form")&&o.classList.contains("booking-form-appear")&&(e.preventDefault(),storageAvialable()&&(localStorage.setItem("checkInValue",t.value),localStorage.setItem("checkOutValue",a.value),localStorage.setItem("adultValue",l.value)),o.classList.contains("booking-form-shake")&&o.classList.remove("booking-form-shake"),o.classList.remove("booking-form-appear"),o.classList.remove("booking-form"),o.classList.add("booking-form-hidden"))})):(storageAvialable()&&(localStorage.setItem("checkInValue",t.value),localStorage.setItem("checkOutValue",a.value),localStorage.setItem("adultValue",l.value)),o.classList.contains("booking-form-shake")&&o.classList.remove("booking-form-shake"),o.classList.contains("booking-form-appear")&&o.classList.remove("booking-form-appear"),o.classList.remove("booking-form"),o.classList.add("booking-form-hidden"))})),deactivator(n,i,r,"updown-active-onload"),deactivator(s,i,c,"sort-active-onload")}"loading"===document.readyState?document.addEventListener("DONContentLoaded",executeMain):executeMain(),window.onbeforeunload=function(){localStorage.setItem("checkInValue","24 апреля 2017"),localStorage.setItem("checkOutValue","4 июля 2017"),localStorage.setItem("adultValue","2")};